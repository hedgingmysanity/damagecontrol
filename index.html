<!DOCTYPE html>
<html>
<head>
    <title>Live Score Calculator</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 30px;
        }
        .slider-container {
            margin: 20px 0;
        }
    </style>
</head>
<body onload="brython()">
    <h1>Final Score Calculator (Live Update!)</h1>

    <label>Current Total Score:</label><br>
    <input id="current_score" type="number" placeholder="Enter your current score" oninput="live_update()"><br><br>

    <div class="slider-container">
        <label>Input 1: <span id="val1">0</span></label><br>
        <input id="slider1" type="range" min="0" max="100" value="0" oninput="update_slider('slider1', 'val1')">
    </div>

    <div class="slider-container">
        <label>Input 2: <span id="val2">0</span></label><br>
        <input id="slider2" type="range" min="0" max="100" value="0" oninput="update_slider('slider2', 'val2')">
    </div>

    <div class="slider-container">
        <label>Input 3: <span id="val3">0</span></label><br>
        <input id="slider3" type="range" min="0" max="100" value="0" oninput="update_slider('slider3', 'val3')">
    </div>

    <h2 id="result"></h2>

    <script type="text/python">
        from browser import document

        def update_slider(slider_id, value_id):
            document[value_id].text = document[slider_id].value
            live_update()

        def live_update(event=None):
            try:
                current_score = float(document["current_score"].value)
            except ValueError:
                current_score = 0.0

            s1 = float(document["slider1"].value)
            s2 = float(document["slider2"].value)
            s3 = float(document["slider3"].value)

            final_value = (current_score + s1 + s2 + s3) / 8
            document["result"].text = f"Final Value: {final_value:.2f}"
    </script>

    <script>
        function update_slider(sliderId, valueId) {
            document.getElementById(valueId).textContent = document.getElementById(sliderId).value;
            live_update();
        }

        function live_update() {
            const currentInput = document.getElementById('current_score').value;
            const currentScore = parseFloat(currentInput) || 0.0;
            const s1 = parseFloat(document.getElementById('slider1').value);
            const s2 = parseFloat(document.getElementById('slider2').value);
            const s3 = parseFloat(document.getElementById('slider3').value);

            const finalValue = (currentScore + s1 + s2 + s3) / 8;
            document.getElementById('result').textContent = `Final Value: ${finalValue.toFixed(2)}`;
        }
    </script>
</body>
</html>
